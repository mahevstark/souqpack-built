import{s as Ie,r as ke,o as Le}from"../chunks/scheduler.ce710c66.js";import{S as Te,i as Me,g as c,r as fe,s as b,h as f,j as k,u as de,c as y,y as O,f as _,k as i,a as ne,v as me,x as t,D as K,A as j,G as Ce,d as he,t as pe,w as ge,m as ye,n as we,o as xe}from"../chunks/index.f931a049.js";import{P as Ee,a as Se,g as ae}from"../chunks/page.443b8ff1.js";import{a as De,t as W}from"../chunks/stores.994ece6e.js";import{c as Ve}from"../chunks/auth.6035c411.js";import{e as ve}from"../chunks/singletons.e84968a3.js";function _e(n){let e,s;return{c(){e=c("small"),s=ye(n[2]),this.h()},l(l){e=f(l,"SMALL",{class:!0});var o=k(e);s=we(o,n[2]),o.forEach(_),this.h()},h(){i(e,"class","text-red-500")},m(l,o){ne(l,e,o),t(e,s)},p(l,o){o&4&&xe(s,l[2])},d(l){l&&_(e)}}}function be(n){let e,s;return{c(){e=c("small"),s=ye(n[2]),this.h()},l(l){e=f(l,"SMALL",{class:!0});var o=k(e);s=we(o,n[2]),o.forEach(_),this.h()},h(){i(e,"class","text-red-500")},m(l,o){ne(l,e,o),t(e,s)},p(l,o){o&4&&xe(s,l[2])},d(l){l&&_(e)}}}function He(n){let e,s,l,o,a,L,T='<h2 class="mt-6 text-center text-2xl font-extrabold text-gray-900">تسجيل الدخول</h2>',$,q,w,x,I,h,u,N,M,v,R,Q,P,re='<button class="group cursor-pointer relative w-full flex justify-center py-2 px-4 text-sm font-medium rounded-md text-white bg-[#f9ca03] border-2 border-[#f9ca03] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#f9ca03] [#f9ca03]" type="submit">تسجيل الدخول</button>',X,V,oe="<span>or</span>",Y,C,E,le="فيسبوك",Z,S,ie="جوجل",ee,H,ue='<span class="text-sm">ليس لديك حساب؟</span> <a href="/signup" class="font-medium text-[#f9ca03] hover:text-[#f9ca03]">اشتراك</a>',te,D,U,se,ce;s=new Ee({props:{data:n[0]}});let d=n[3]&&_e(n),m=n[3]&&be(n);return D=new Se({props:{data:n[0]}}),{c(){e=c("main"),fe(s.$$.fragment),l=b(),o=c("div"),a=c("div"),L=c("div"),L.innerHTML=T,$=b(),q=b(),w=c("form"),x=c("div"),I=c("div"),h=c("input"),u=b(),d&&d.c(),N=b(),M=c("div"),v=c("input"),R=b(),m&&m.c(),Q=b(),P=c("div"),P.innerHTML=re,X=b(),V=c("div"),V.innerHTML=oe,Y=b(),C=c("div"),E=c("button"),E.textContent=le,Z=b(),S=c("button"),S.textContent=ie,ee=b(),H=c("div"),H.innerHTML=ue,te=b(),fe(D.$$.fragment),this.h()},l(r){e=f(r,"MAIN",{class:!0});var p=k(e);de(s.$$.fragment,p),l=y(p),o=f(p,"DIV",{class:!0});var A=k(o);a=f(A,"DIV",{class:!0});var g=k(a);L=f(g,"DIV",{"data-svelte-h":!0}),O(L)!=="svelte-3gjfqn"&&(L.innerHTML=T),$=y(g),q=y(g),w=f(g,"FORM",{class:!0});var z=k(w);x=f(z,"DIV",{class:!0});var B=k(x);I=f(B,"DIV",{});var F=k(I);h=f(F,"INPUT",{class:!0,placeholder:!0,minlength:!0,maxlength:!0,type:!0}),u=y(F),d&&d.l(F),F.forEach(_),N=y(B),M=f(B,"DIV",{});var G=k(M);v=f(G,"INPUT",{class:!0,placeholder:!0,minlength:!0,maxlength:!0,type:!0}),R=y(G),m&&m.l(G),G.forEach(_),B.forEach(_),Q=y(z),P=f(z,"DIV",{"data-svelte-h":!0}),O(P)!=="svelte-z19kff"&&(P.innerHTML=re),z.forEach(_),X=y(g),V=f(g,"DIV",{class:!0,"data-svelte-h":!0}),O(V)!=="svelte-3054w9"&&(V.innerHTML=oe),Y=y(g),C=f(g,"DIV",{class:!0});var J=k(C);E=f(J,"BUTTON",{class:!0,"data-svelte-h":!0}),O(E)!=="svelte-1h52t85"&&(E.textContent=le),Z=y(J),S=f(J,"BUTTON",{class:!0,"data-svelte-h":!0}),O(S)!=="svelte-1xevmu6"&&(S.textContent=ie),J.forEach(_),ee=y(g),H=f(g,"DIV",{class:!0,"data-svelte-h":!0}),O(H)!=="svelte-57qm9i"&&(H.innerHTML=ue),g.forEach(_),A.forEach(_),te=y(p),de(D.$$.fragment,p),p.forEach(_),this.h()},h(){i(h,"class","appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-[#f9ca03] focus:border-[#f9ca03] focus:z-10 sm:text-sm"),i(h,"placeholder","أدخل عنوان بريدك الالكتروني"),i(h,"minlength","7"),i(h,"maxlength","255"),i(h,"type","email"),i(v,"class","appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-[#f9ca03] focus:border-[#f9ca03] focus:z-10 sm:text-sm"),i(v,"placeholder","أدخل كلمة مرور طويلة مكونة من 6 أرقام"),i(v,"minlength","6"),i(v,"maxlength","255"),i(v,"type","password"),i(x,"class","rounded-md shadow-sm -space-y-px"),i(w,"class","mt-8 space-y-6"),i(V,"class","text-center"),i(E,"class","m-2 px-3 py-2 bg-blue-600 text-white text-sm font-medium rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"),i(S,"class","m-2 px-3 py-2 bg-red-600 text-white text-sm font-medium rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"),i(C,"class","flex items-center justify-center"),i(H,"class","text-center"),i(a,"class","max-w-md w-full space-y-4 bg-white my-4 px-4 py-4 rounded-md"),i(o,"class","min-h-screen flex items-center justify-center bg-gray-100"),i(e,"class","bg-[#fff]")},m(r,p){ne(r,e,p),me(s,e,null),t(e,l),t(e,o),t(o,a),t(a,L),t(a,$),t(a,q),t(a,w),t(w,x),t(x,I),t(I,h),K(h,n[1].email),t(I,u),d&&d.m(I,null),t(x,N),t(x,M),t(M,v),K(v,n[1].password),t(M,R),m&&m.m(M,null),t(w,Q),t(w,P),t(a,X),t(a,V),t(a,Y),t(a,C),t(C,E),t(C,Z),t(C,S),t(a,ee),t(a,H),t(e,te),me(D,e,null),U=!0,se||(ce=[j(h,"focus",n[6]),j(h,"input",n[7]),j(v,"focus",n[8]),j(v,"input",n[9]),j(w,"submit",Ce(n[4])),j(E,"click",n[5]),j(S,"click",je)],se=!0)},p(r,[p]){const A={};p&1&&(A.data=r[0]),s.$set(A),p&2&&h.value!==r[1].email&&K(h,r[1].email),r[3]?d?d.p(r,p):(d=_e(r),d.c(),d.m(I,null)):d&&(d.d(1),d=null),p&2&&v.value!==r[1].password&&K(v,r[1].password),r[3]?m?m.p(r,p):(m=be(r),m.c(),m.m(M,null)):m&&(m.d(1),m=null);const g={};p&1&&(g.data=r[0]),D.$set(g)},i(r){U||(he(s.$$.fragment,r),he(D.$$.fragment,r),U=!0)},o(r){pe(s.$$.fragment,r),pe(D.$$.fragment,r),U=!1},d(r){r&&_(e),ge(s),d&&d.d(),m&&m.d(),ge(D),se=!1,ke(ce)}}}function je(){}function Ne(n,e,s){let l,{data:o}=e,a={email:"",password:""};var L="";let T=!1;function $(){if(a.email==""){s(2,L="الرجاء إدخال البريد الإلكتروني"),s(3,T=!0);return}if(a.password==""){s(3,T=!0);return}else s(3,T=!1);if(!l){alert("الرجاء تعبئة جميع الحقول");return}fetch("https://admin.souqpack.com/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(u=>u.json()).then(u=>{if(console.log("Success:",u),u.action=="success"){localStorage.setItem("login_data",JSON.stringify(u.data)),De.set({isLoggedIn:!0,token:u.data.token,user:u.data}),W.set({show:!0,message:"تم تسجيل الدخول بنجاح",type:"success"});const N=localStorage.getItem("myKey");N==="fromcheckout"?(console.log("fromcheckout",N),localStorage.removeItem("myKey"),ae(`${ve}/checkout`)):(console.log("dashboard"),ae(`${ve}/dashboard`))}else W.set({show:!0,message:u.error,type:"error"})}).catch(u=>{console.error("Error:",u),W.set({show:!0,message:"خطأ في الشبكة",type:"error"})})}function q(){W.set({show:!0,message:"تحت التطوير",type:"info"})}Le(async()=>{await Ve()&&ae("/dashboard")});const w=()=>s(3,T=!1);function x(){a.email=this.value,s(1,a)}const I=()=>s(3,T=!1);function h(){a.password=this.value,s(1,a)}return n.$$set=u=>{"data"in u&&s(0,o=u.data)},n.$$.update=()=>{n.$$.dirty&2&&(l=a.email.length>3&&a.password.length>6)},[o,a,L,T,$,q,w,x,I,h]}class ze extends Te{constructor(e){super(),Me(this,e,Ne,He,Ie,{data:0})}}export{ze as component};
