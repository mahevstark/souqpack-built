import{s as ve,o as we,n as xe}from"../chunks/scheduler.ce710c66.js";import{S as ke,i as Pe,e as fe,a as B,t as ae,b as $e,d as re,f as _,p as Se,g as p,r as ne,s as E,h as u,j as w,u as ie,c as T,y as Q,k as y,v as ce,x as s,A as De,w as de,z as Ee,m as z,H as Te,n as F,F as Ie,o as se,l as le}from"../chunks/index.f931a049.js";import{g as pe,P as Ne,e as ue,a as Le}from"../chunks/page.7e0f9e7a.js";import{a as Ae,t as je}from"../chunks/stores.40642832.js";import{c as Ce}from"../chunks/auth.6035c411.js";import{P as He}from"../chunks/page.8d9c1114.js";const Ve=!1;async function Oe({}){try{const t=await(await fetch("https://admin.souqpack.com/api/get_important_data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lang_id:2,region_id:1})})).json(),a={email:t.data.email,phone:t.data.phone,address:t.data.address,footer_about:t.data.footer_about,facebook:t.data.facebook,instagram:t.data.instagram,twitter:t.data.twitter,youtube:t.data.youtube,snapchat:t.data.snapchat,copy_right:t.data.copy_right,footers:t.data.footers},d=await(await fetch("https://admin.souqpack.com/api/get_categories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lang_id:2,region_id:1})})).json();var l={data:{}};const r=localStorage.getItem("login_data");if(console.log("dataLocal",r),r){const f=JSON.parse(r).token;l=await(await fetch("https://admin.souqpack.com/api/get_mydashboard",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lang_id:2,region_id:1,token:f})})).json(),l={data:l.data}}else l={data:{}};return console.log("data mine",l),t.action=="success"&&d.action=="success"?{props:{browser:!1,langs:t.data.langs,regions:t.data.regions,cats:d.data.categories,home:{},footer:a,product:{},category:{},myData:l}}:{status:500,error:"Failed to fetch data from the API."}}catch(e){return console.error("Error fetching data:",e),{status:500,error:"Failed to fetch data from the API."}}}const Qe=Object.freeze(Object.defineProperty({__proto__:null,load:Oe,ssr:Ve},Symbol.toStringTag,{value:"Module"}));function _e(l,e,t){const a=l.slice();return a[3]=e[t],a[5]=t,a}function Me(l){var W,X,Y;let e,t,a,i,d,r,f,n,g='<a href="/dashboard" class="text-[#f9ca03] font-semibold text-sm">Dashboard</a>',P,N,I,U="Logout",b,L,A,S,j,H='<span class="w-[10%] border-r border-r-gray-300 text-center py-2">ID</span> <span class="w-[20%] border-r border-r-gray-300 text-center py-2">Date</span> <span class="w-[10%] border-r border-r-gray-300 text-center py-2">Status</span> <span class="w-[30%] border-r border-r-gray-300 text-center py-2">Payment</span> <span class="w-[10%] border-r border-r-gray-300 text-center py-2">Total</span> <span class="w-[20%] text-center py-2"></span>',O,M,C,G='<span class="w-[10%] border-r border-r-gray-300 text-center py-2">ID</span> <span class="w-[20%] border-r border-r-gray-300 text-center py-2">Date</span> <span class="w-[10%] border-r border-r-gray-300 text-center py-2">Status</span> <span class="w-[30%] border-r border-r-gray-300 text-center py-2">Payment</span> <span class="w-[10%] border-r border-r-gray-300 text-center py-2">Total</span> <span class="w-[20%] text-center py-2"></span>',R,m,v,x,k;t=new Ne({props:{data:l[0]}});let h=ue((Y=(X=(W=l[0])==null?void 0:W.props)==null?void 0:X.myData.data)==null?void 0:Y.orders),o=[];for(let c=0;c<h.length;c+=1)o[c]=be(_e(l,h,c));return m=new Le({props:{data:l[0]}}),{c(){e=p("main"),ne(t.$$.fragment),a=E(),i=p("div"),d=p("div"),r=p("div"),f=p("div"),n=p("div"),n.innerHTML=g,P=E(),N=p("div"),I=p("button"),I.textContent=U,b=E(),L=p("div"),A=p("div"),S=p("div"),j=p("div"),j.innerHTML=H,O=E();for(let c=0;c<o.length;c+=1)o[c].c();M=E(),C=p("div"),C.innerHTML=G,R=E(),ne(m.$$.fragment),this.h()},l(c){e=u(c,"MAIN",{class:!0});var $=w(e);ie(t.$$.fragment,$),a=T($),i=u($,"DIV",{class:!0});var V=w(i);d=u(V,"DIV",{class:!0});var Z=w(d);r=u(Z,"DIV",{class:!0});var q=w(r);f=u(q,"DIV",{class:!0});var J=w(f);n=u(J,"DIV",{class:!0,"data-svelte-h":!0}),Q(n)!=="svelte-awu3v8"&&(n.innerHTML=g),P=T(J),N=u(J,"DIV",{class:!0});var ee=w(N);I=u(ee,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(I)!=="svelte-kot1h6"&&(I.textContent=U),ee.forEach(_),J.forEach(_),b=T(q),L=u(q,"DIV",{class:!0});var D=w(L);A=u(D,"DIV",{class:!0});var te=w(A);S=u(te,"DIV",{class:!0});var K=w(S);j=u(K,"DIV",{class:!0,"data-svelte-h":!0}),Q(j)!=="svelte-oxe483"&&(j.innerHTML=H),O=T(K);for(let oe=0;oe<o.length;oe+=1)o[oe].l(K);M=T(K),C=u(K,"DIV",{class:!0,"data-svelte-h":!0}),Q(C)!=="svelte-oxe483"&&(C.innerHTML=G),K.forEach(_),te.forEach(_),D.forEach(_),q.forEach(_),Z.forEach(_),V.forEach(_),R=T($),ie(m.$$.fragment,$),$.forEach(_),this.h()},h(){y(n,"class","flex flex-row items-center border-b border-b-gray-300 px-4 py-2 w-full"),y(I,"class","text-[#333] font-semibold text-sm"),y(N,"class","flex flex-row items-center px-4 py-2 w-full"),y(f,"class","flex flex-col bg-white rounded-md py-2 lg:w-1/5 w-full"),y(j,"class","flex flex-row w-full items-center font-bold border border-gray-300 px-2"),y(C,"class","flex flex-row w-full items-center font-bold border border-gray-300 px-2"),y(S,"class","flex flex-col w-full"),y(A,"class","flex flex-col bg-white rounded-md py-4 px-4 w-full"),y(L,"class","flex flex-col pl-4 w-4/5"),y(r,"class","flex flex-row justify-between px-4 py-4"),y(d,"class","flex flex-col max-w-[1280px] w-full"),y(i,"class","flex flex-row justify-center"),y(e,"class","bg-[#f5f5f5]")},m(c,$){B(c,e,$),ce(t,e,null),s(e,a),s(e,i),s(i,d),s(d,r),s(r,f),s(f,n),s(f,P),s(f,N),s(N,I),s(r,b),s(r,L),s(L,A),s(A,S),s(S,j),s(S,O);for(let V=0;V<o.length;V+=1)o[V]&&o[V].m(S,null);s(S,M),s(S,C),s(e,R),ce(m,e,null),v=!0,x||(k=De(I,"click",l[2]),x=!0)},p(c,$){var q,J,ee;const V={};if($&1&&(V.data=c[0]),t.$set(V),$&1){h=ue((ee=(J=(q=c[0])==null?void 0:q.props)==null?void 0:J.myData.data)==null?void 0:ee.orders);let D;for(D=0;D<h.length;D+=1){const te=_e(c,h,D);o[D]?o[D].p(te,$):(o[D]=be(te),o[D].c(),o[D].m(S,M))}for(;D<o.length;D+=1)o[D].d(1);o.length=h.length}const Z={};$&1&&(Z.data=c[0]),m.$set(Z)},i(c){v||(re(t.$$.fragment,c),re(m.$$.fragment,c),v=!0)},o(c){ae(t.$$.fragment,c),ae(m.$$.fragment,c),v=!1},d(c){c&&_(e),de(t),Ee(o,c),de(m),x=!1,k()}}}function Re(l){let e,t;return e=new He({}),{c(){ne(e.$$.fragment)},l(a){ie(e.$$.fragment,a)},m(a,i){ce(e,a,i),t=!0},p:xe,i(a){t||(re(e.$$.fragment,a),t=!0)},o(a){ae(e.$$.fragment,a),t=!1},d(a){de(e,a)}}}function he(l){let e,t,a,i,d,r=l[3].payment_reason_rejct+"",f;return{c(){e=p("span"),t=z("Payment Error"),a=p("br"),i=E(),d=p("i"),f=z(r),this.h()},l(n){e=u(n,"SPAN",{});var g=w(e);t=F(g,"Payment Error"),a=u(g,"BR",{}),i=T(g),d=u(g,"I",{style:!0});var P=w(d);f=F(P,r),P.forEach(_),g.forEach(_),this.h()},h(){le(d,"color","red")},m(n,g){B(n,e,g),s(e,t),s(e,a),s(e,i),s(e,d),s(d,f)},p(n,g){g&1&&r!==(r=n[3].payment_reason_rejct+"")&&se(f,r)},d(n){n&&_(e)}}}function me(l){let e,t="Payment Done<br/>";return{c(){e=p("span"),e.innerHTML=t,this.h()},l(a){e=u(a,"SPAN",{style:!0,"data-svelte-h":!0}),Q(e)!=="svelte-1kep4vb"&&(e.innerHTML=t),this.h()},h(){le(e,"color","green")},m(a,i){B(a,e,i)},d(a){a&&_(e)}}}function ge(l){let e,t="Pending<br/>";return{c(){e=p("span"),e.innerHTML=t,this.h()},l(a){e=u(a,"SPAN",{style:!0,"data-svelte-h":!0}),Q(e)!=="svelte-1eotkc"&&(e.innerHTML=t),this.h()},h(){le(e,"color","blueviolet")},m(a,i){B(a,e,i)},d(a){a&&_(e)}}}function ye(l){let e,t,a,i;return{c(){e=p("span"),t=p("a"),a=z("Pay Now"),this.h()},l(d){e=u(d,"SPAN",{});var r=w(e);t=u(r,"A",{href:!0,class:!0,style:!0});var f=w(t);a=F(f,"Pay Now"),f.forEach(_),r.forEach(_),this.h()},h(){y(t,"href",i="/pay/"+l[3].id),y(t,"class","bg-[#f9ca03] px-4 py-1 text-white rounded-md"),le(t,"font-size","11px")},m(d,r){B(d,e,r),s(e,t),s(t,a)},p(d,r){r&1&&i!==(i="/pay/"+d[3].id)&&y(t,"href",i)},d(d){d&&_(e)}}}function be(l){let e,t,a=l[3].id+"",i,d,r,f=l[3].at+"",n,g,P,N,I=l[3].status_text+"",U,b,L,A,S,j,H,O=l[3].total+"",M,C,G,R,m=l[3].payment_done==2&&he(l),v=l[3].payment_done==1&&me(),x=l[3].payment_done==0&&ge(),k=(l[3].payment_done==2||l[3].payment_done==0)&&ye(l);return{c(){e=p("div"),t=p("span"),i=z(a),d=E(),r=p("span"),n=z(f),g=E(),P=p("span"),N=new Te(!1),U=E(),b=p("span"),m&&m.c(),L=E(),v&&v.c(),A=E(),x&&x.c(),S=E(),k&&k.c(),j=E(),H=p("span"),M=z(O),C=z(" ر.س"),G=E(),R=p("span"),this.h()},l(h){e=u(h,"DIV",{class:!0});var o=w(e);t=u(o,"SPAN",{class:!0});var W=w(t);i=F(W,a),W.forEach(_),d=T(o),r=u(o,"SPAN",{class:!0});var X=w(r);n=F(X,f),X.forEach(_),g=T(o),P=u(o,"SPAN",{class:!0});var Y=w(P);N=Ie(Y,!1),Y.forEach(_),U=T(o),b=u(o,"SPAN",{class:!0});var c=w(b);m&&m.l(c),L=T(c),v&&v.l(c),A=T(c),x&&x.l(c),S=T(c),k&&k.l(c),c.forEach(_),j=T(o),H=u(o,"SPAN",{class:!0});var $=w(H);M=F($,O),C=F($," ر.س"),$.forEach(_),G=T(o),R=u(o,"SPAN",{class:!0}),w(R).forEach(_),o.forEach(_),this.h()},h(){y(t,"class","w-[10%] border-r border-r-gray-300 text-center py-2 h-full px-2"),y(r,"class","w-[20%] border-r border-r-gray-300 text-center py-2 h-full px-2"),N.a=null,y(P,"class","w-[10%] border-r border-r-gray-300 text-center py-2 h-full px-2"),y(b,"class","w-[30%] border-r border-r-gray-300 text-center py-2 h-full px-2"),y(H,"class","w-[10%] border-r border-r-gray-300 text-center py-2 h-full px-2"),y(R,"class","w-[20%] text-center py-2 h-full px-2"),y(e,"class","flex flex-row w-full items-center border border-gray-300 px-2")},m(h,o){B(h,e,o),s(e,t),s(t,i),s(e,d),s(e,r),s(r,n),s(e,g),s(e,P),N.m(I,P),s(e,U),s(e,b),m&&m.m(b,null),s(b,L),v&&v.m(b,null),s(b,A),x&&x.m(b,null),s(b,S),k&&k.m(b,null),s(e,j),s(e,H),s(H,M),s(H,C),s(e,G),s(e,R)},p(h,o){o&1&&a!==(a=h[3].id+"")&&se(i,a),o&1&&f!==(f=h[3].at+"")&&se(n,f),o&1&&I!==(I=h[3].status_text+"")&&N.p(I),h[3].payment_done==2?m?m.p(h,o):(m=he(h),m.c(),m.m(b,L)):m&&(m.d(1),m=null),h[3].payment_done==1?v||(v=me(),v.c(),v.m(b,A)):v&&(v.d(1),v=null),h[3].payment_done==0?x||(x=ge(),x.c(),x.m(b,S)):x&&(x.d(1),x=null),h[3].payment_done==2||h[3].payment_done==0?k?k.p(h,o):(k=ye(h),k.c(),k.m(b,null)):k&&(k.d(1),k=null),o&1&&O!==(O=h[3].total+"")&&se(M,O)},d(h){h&&_(e),m&&m.d(),v&&v.d(),x&&x.d(),k&&k.d()}}}function qe(l){let e,t,a,i;const d=[Re,Me],r=[];function f(n,g){return n[1]?0:1}return e=f(l),t=r[e]=d[e](l),{c(){t.c(),a=fe()},l(n){t.l(n),a=fe()},m(n,g){r[e].m(n,g),B(n,a,g),i=!0},p(n,[g]){let P=e;e=f(n),e===P?r[e].p(n,g):(Se(),ae(r[P],1,1,()=>{r[P]=null}),$e(),t=r[e],t?t.p(n,g):(t=r[e]=d[e](n),t.c()),re(t,1),t.m(a.parentNode,a))},i(n){i||(re(t),i=!0)},o(n){ae(t),i=!1},d(n){n&&_(a),r[e].d(n)}}}function Je(l,e,t){let{data:a}=e;console.log("data"),console.log(a);let i=!0;we(async()=>{await Ce()||pe("/login"),t(1,i=!1)});function d(){localStorage.removeItem("login_data"),Ae.set({isLoggedIn:!1,token:"",user:{}}),je.set({show:!0,message:"Logout Successfull",type:"success"}),pe("/login")}return l.$$set=r=>{"data"in r&&t(0,a=r.data)},[a,i,d]}class We extends ke{constructor(e){super(),Pe(this,e,Je,qe,ve,{data:0})}}export{We as component,Qe as universal};
